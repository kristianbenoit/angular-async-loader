/* angular-async-loader - v1.0.1 - 2015-03-18 */ !function(){var a=[];angular.module("angular-async-loader",[]).config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(b,c,d,e){var f=angular.module;angular.module=function(g,h){var i=f(g,h);return h&&-1!==a.indexOf(g)&&(i.controller=b.register,i.compile=c.directive,i.filter=d.register,i.provider=e.provider,i.factory=e.factory,i.value=e.value,i.service=e.service,i.constant=e.constant,i.decorator=e.decorator),i}}]).provider("$ngLoad",function(){var b=(angular.module,[]),c={},d={defineDep:function(a,b){return c[a]=b,d},addModuleDep:function(b){return a=a.concat(b),d},$get:["$window","$interval","$timeout","$q","$injector",function(a,d,e,f,g){var h=function(){var b=null;return g.has("$cordovaNetwork")&&(b=g.get("$cordovaNetwork")),{isOnline:function(){return b?b.isOnline():navigator.onLine},addOnlineListener:function(c){return b?document.addEventListener("online",c):a.addEventListener("online",c)},addOfflineListener:function(c){b?document.addEventListener("offline",c):a.addEventListener("offline",c)}}}(),i=function(){this._currentContext=null,this._contextList=[];var a=this;h.addOnlineListener(function(){var b=a.getCurrent();b&&(i.clearOnlinePromise(b),b.onlinePromise=d(function(){a.getScript(b.url)},5e3,20).then(function(){b.deferred.reject("Network Error")}))}),h.addOfflineListener(function(){var b=a.getCurrent();i.clearOnlinePromise(b)})};return i.clearOnlinePromise=function(a){a&&a.onlinePromise&&(d.cancel(a.onlinePromise),a.onlinePromise=null)},i.prototype.push=function(a){var b=f.defer();return angular.extend(a,{writeCount:0,deferred:b,onlinePromise:null}),this._contextList.push(a),this.getCurrent()||this.shift(),b.promise},i.prototype.shift=function(){a=this.getCurrent(),i.clearOnlinePromise(a);var a=this._currentContext=this._contextList.shift();a&&(-1!==b.indexOf(a.url)?(a.deferred.resolve(a.url),this.shift()):h.isOnline?this.getScript(a.url):a.deferred.promise.then(function(){i.clearOnlinePromise(a)}))},i.prototype.getCurrent=function(){return this._currentContext},i.prototype.getScript=function(a){var c=this.getCurrent(),d=document.getElementsByTagName("head")[0],f=document.createElement("script");f.src=a,c.writeCount++,f.addEventListener("load",function(){c.writeCount--,i.clearOnlinePromise(c),0===c.writeCount&&e(function(){c.deferred.resolve(c.url),document.write.context.shift()},0),b.push(c.url)},!1);try{d.appendChild(f)}catch(g){c.deferred.reject(g)}},document.superWrite=document.write,document.write=function(a){var b=!1;if(document.write.context.getCurrent()){var c=/^<script[^>]*src="([^"]*)"[^>]*><\/script>$/.exec(a);c&&(b=!0,document.write.context.getScript(c[1]))}b||document.superWrite(a)},document.write.context=new i,function(a){if("string"==typeof a&&a.match("//"))return document.write.context.push({url:a});var b=null;b="string"==typeof a?[a]:a;var d=[];return b.forEach(function(a){c[a].forEach(function(a){d.push(document.write.context.push({url:a}))})}),f.all(d).then(function(){var c={};return b.forEach(function(a){c[a]=":"===a[0]?a:g.get(a)}),"string"==typeof a?c[a]:c},function(a){f.reject(a)})}}]};return d})}();